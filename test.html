<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customization Form</title>
    <style>
        form {
            max-width: 400px;
            margin: 0 auto;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
        }
        .total {
            font-weight: bold;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <form id="dataForm">
        <label for="tsoId">TSO ID:</label>
        <input type="text" id="tsoId" name="tsoId" required>

        <label for="soId">SO ID:</label>
        <input type="text" id="soId" name="soId" required>

        <label for="dealerPoint">Dealer Point:</label>
        <input type="text" id="dealerPoint" name="dealerPoint" required>

        <label for="shopName">Shop Name:</label>
        <input type="text" id="shopName" name="shopName" required>

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required>

        <label for="phoneNo">Phone no.:</label>
        <input type="text" id="phoneNo" name="phoneNo" required>

        <label for="ownerName">Owner Name:</label>
        <input type="text" id="ownerName" name="ownerName" required>

        <label for="sidaNo">Sida No.:</label>
        <input type="text" id="sidaNo" name="sidaNo" required>

        <label for="date1">Date 1:</label>
        <input type="number" id="date1" name="date1" class="dayField" required>

        <label for="date2">Date 2:</label>
        <input type="number" id="date2" name="date2" class="dayField" required>

        <label for="date3">Date 3:</label>
        <input type="number" id="date3" name="date3" class="dayField" required>

        <label for="date4">Date 4:</label>
        <input type="number" id="date4" name="date4" class="dayField" required>

        <label for="date5">Date 5:</label>
        <input type="number" id="date5" name="date5" class="dayField" required>

        <label for="date6">Date 6:</label>
        <input type="number" id="date6" name="date6" class="dayField" required>

        <label for="date7">Date 7:</label>
        <input type="number" id="date7" name="date7" class="dayField" required>

        <div class="total">Total: <span id="totalSum">0</span></div>

        <button type="submit">Submit</button>
    </form>

    <script>
        function calculateTotal() {
            let total = 0;
            const dayFields = document.querySelectorAll('.dayField');
            dayFields.forEach(field => {
                total += parseFloat(field.value) || 0;
            });
            document.getElementById('totalSum').textContent = total;
            return total;
        }

        // Attach event listeners to day fields
        const dayFields = document.querySelectorAll('.dayField');
        dayFields.forEach(field => {
            field.addEventListener('input', calculateTotal);
        });

        // Handle form submission
        document.getElementById('dataForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const total = calculateTotal();
            const formData = {
                tsoId: document.getElementById('tsoId').value,
                soId: document.getElementById('soId').value,
                dealerPoint: document.getElementById('dealerPoint').value,
                shopName: document.getElementById('shopName').value,
                address: document.getElementById('address').value,
                phoneNo: document.getElementById('phoneNo').value,
                ownerName: document.getElementById('ownerName').value,
                sidaNo: document.getElementById('sidaNo').value,
                date1: document.getElementById('date1').value,
                date2: document.getElementById('date2').value,
                date3: document.getElementById('date3').value,
                date4: document.getElementById('date4').value,
                date5: document.getElementById('date5').value,
                date6: document.getElementById('date6').value,
                date7: document.getElementById('date7').value,
                total: total
            };

            // Replace with your Google Apps Script Web App URL
            const scriptURL = 'https://script.google.com/macros/s/AKfycbyUzsxLVoZ3ve69p827taR4awQfPgKzI3jbJlmjd6Kd-02an2xa8ej2YZkL2TZhugCSqw/exec';

            fetch(scriptURL, {
                method: 'POST',
                body: JSON.stringify(formData),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => response.text())
            .then(data => {
                alert(data); // Show success message
                document.getElementById('dataForm').reset(); // Reset form
                document.getElementById('totalSum').textContent = 0; // Reset total
            })
            .catch(error => console.error('Error:', error));
        });
    </script>
</body>
</html>